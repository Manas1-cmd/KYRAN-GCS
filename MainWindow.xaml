<Window x:Class="SimpleDroneGCS.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:SimpleDroneGCS.Controls"
        Title="SimpleDroneGCS - Professional" 
        Height="900" Width="1600"
        MinWidth="1200"
        MinHeight="700"
        WindowState="Maximized"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="CanResize">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Resources/Styles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <!-- ÐšÐÐ¡Ð¢ÐžÐœÐÐ«Ð™ Ð—ÐÐ“ÐžÐ›ÐžÐ’ÐžÐš ÐžÐšÐÐ -->
    <Border Background="#060B1A" CornerRadius="10" BorderThickness="1" BorderBrush="#1E3A5F">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="40"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- TITLE BAR -->
            <Border Grid.Row="0" 
                Background="#060B1A" 
                CornerRadius="10,10,0,0"
                MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <Grid Margin="15,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Ð˜ÐšÐžÐÐšÐ Ð˜ ÐÐÐ—Ð’ÐÐÐ˜Ð• -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="ðŸš" FontSize="18" Margin="0,0,10,0"/>
                        <TextBlock Text="SimpleDroneGCS - Professional" 
                               FontSize="14" 
                               FontWeight="SemiBold"
                               Foreground="#2A5A8F"
                               VerticalAlignment="Center"/>
                    </StackPanel>

                    <!-- ÐšÐÐžÐŸÐšÐ˜ Ð£ÐŸÐ ÐÐ’Ð›Ð•ÐÐ˜Ð¯ ÐžÐšÐÐžÐœ -->
                    <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                        <Button Content="â€”" 
                            Width="40" Height="30"
                            Background="Transparent"
                            Foreground="#2A5A8F"
                            BorderThickness="0"
                            FontSize="16"
                            FontWeight="Bold"
                            Click="MinimizeButton_Click"
                            Cursor="Hand"/>
                        <Button Content="â˜" 
                            Width="40" Height="30"
                            Background="Transparent"
                            Foreground="#2A5A8F"
                            BorderThickness="0"
                            FontSize="14"
                            Click="MaximizeButton_Click"
                            Cursor="Hand"/>
                        <Button Content="âœ•" 
                            Width="40" Height="30"
                            Background="Transparent"
                            Foreground="#EF4444"
                            BorderThickness="0"
                            FontSize="16"
                            Click="CloseButton_Click"
                            Cursor="Hand"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- ÐžÐ¡ÐÐžÐ’ÐÐžÐ™ ÐšÐžÐÐ¢Ð•ÐÐ¢ -->
            <Grid Grid.Row="1" Background="#060B1A">

                <!-- ÐžÐ¡ÐÐžÐ’ÐÐžÐ™ LAYOUT -->
                <Grid Margin="10,0,10,10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- ==== Ð’Ð•Ð Ð¥ÐÐ˜Ð™ Ð‘Ð›ÐžÐš ÐÐÐ’Ð˜Ð“ÐÐ¦Ð˜Ð˜ ==== -->
                    <Border Grid.Row="0"
                            Background="#0D1733"
                            BorderThickness="3"
                            CornerRadius="18"
                            Padding="12,0,12,0"
                            Margin="0,0,0,0" Height="72">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <!-- ÐÐÐ’Ð˜Ð“ÐÐ¦Ð˜ÐžÐÐÐ«Ð• ÐšÐÐžÐŸÐšÐ˜ -->
                            <StackPanel Grid.Column="0" Orientation="Horizontal">

                                <!-- ÐœÐ˜Ð¡Ð¡Ð˜Ð¯ (Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½Ñ‘Ð½Ð½Ñ‹Ðµ Ð”Ð°Ð½Ð½Ñ‹Ðµ + ÐŸÐ»Ð°Ð½) -->
                                <StackPanel Margin="15,0,40,0" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Button x:Name="FlightPlanButton" 
                                            Style="{StaticResource ActiveNavButtonStyle}"
                                            Click="NavigationButton_Click" 
                                            Tag="FlightPlan" Width="38" Height="38">
                                        <Image Source="/Images/flight_plan_icon.png" Width="19" Height="19"/>
                                    </Button>
                                    <TextBlock Text="ÐœÐ˜Ð¡Ð¡Ð˜Ð¯" 
                                               FontSize="8" 
                                               FontWeight="Bold" 
                                               Foreground="White"
                                               HorizontalAlignment="Center"
                                               Margin="0,4,0,0"/>
                                </StackPanel>

                                <!-- ÐšÐÐœÐ•Ð Ð -->
                                <StackPanel Margin="0,0,40,0" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Button x:Name="CameraButton" 
                                            Style="{StaticResource NavButtonStyle}"
                                            Click="CameraButton_Click" Width="38" Height="38">
                                        <Image Source="/Images/camera.png" Width="22" Height="22"/>
                                    </Button>
                                    <TextBlock Text="ÐšÐÐœÐ•Ð Ð" 
                                               FontSize="8" 
                                               FontWeight="Bold" 
                                               Foreground="White"
                                               HorizontalAlignment="Center"
                                               Margin="0,4,0,0"/>
                                </StackPanel>

                                <!-- ÐÐ’ÐÐ Ð˜Ð™ÐÐÐ¯ ÐŸÐžÐ¡ÐÐ”ÐšÐ -->
                                <StackPanel Margin="0,0,40,0" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Button x:Name="LandButton" 
                                            Style="{StaticResource NavButtonStyle}"
                                            Click="LandButton_Click" Width="38" Height="38">
                                        <Image Source="/Images/landing_icon.png" Width="19" Height="19"/>
                                    </Button>
                                    <TextBlock Text="ÐŸÐžÐ¡ÐÐ”ÐšÐ" 
                                               FontSize="8" 
                                               FontWeight="Bold" 
                                               Foreground="White"
                                               HorizontalAlignment="Center"
                                               Margin="0,4,0,0"/>
                                </StackPanel>

                                <!-- Ð’ÐžÐ—Ð’Ð ÐÐ¢ Ð”ÐžÐœÐžÐ™ -->
                                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Button x:Name="RthButton" 
                                            Style="{StaticResource NavButtonStyle}"
                                            Click="RthButton_Click" Width="38" Height="38">
                                        <Image Source="/Images/home_icon.png" Width="19" Height="19"/>
                                    </Button>
                                    <TextBlock Text="Ð”ÐžÐœÐžÐ™" 
                                               FontSize="8" 
                                               FontWeight="Bold" 
                                               Foreground="White"
                                               HorizontalAlignment="Center"
                                               Margin="0,4,0,0"/>
                                </StackPanel>

                            </StackPanel>

                            <!-- ÐšÐÐžÐŸÐšÐ ÐŸÐžÐ”ÐšÐ›Ð®Ð§Ð•ÐÐ˜Ð¯ -->
                            <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">

                                <local:LanguageToggle Margin="0,0,12,0"/>

                                <!-- Ð¡Ð¢ÐÐ¢Ð£Ð¡ + ÐšÐÐžÐŸÐšÐ -->
                                <Border Background="#0D1733"
            BorderBrush="#2A4361"
            BorderThickness="2"
            CornerRadius="8"
            Padding="8,4">
                                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                        <Ellipse x:Name="ConnectionIndicator" 
                     Width="10" 
                     Height="10" 
                     Fill="#EF4444" 
                     Margin="0,0,6,0"
                     VerticalAlignment="Center"/>
                                        <TextBlock x:Name="ConnectionStatusText" 
                       Text="ÐÐµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾" 
                       Foreground="White" 
                       FontSize="11" 
                       FontWeight="SemiBold"
                       VerticalAlignment="Center"
                       Margin="0,0,8,0"/>
                                        <Button x:Name="ConnectButton"
                    Style="{StaticResource NavButtonStyle}"
                    Width="34"
                    Height="34"
                    Click="ConnectButton_Click"
                    Cursor="Hand">
                                            <Image x:Name="ConnectButtonIcon" 
                       Source="/Images/connect_icon.png" 
                       Width="18" 
                       Height="18"/>
                                        </Button>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </Grid>
                    </Border>
                    

                    <!-- ==== ÐšÐžÐÐ¢Ð•ÐÐ¢ÐÐÐ¯ ÐžÐ‘Ð›ÐÐ¡Ð¢Ð¬ ==== -->
                    <Frame x:Name="MainFrame" 
                           Grid.Row="1"
                           NavigationUIVisibility="Hidden"
                           Background="Transparent"/>
                </Grid>

                <!-- ==== ÐžÐ’Ð•Ð Ð›Ð•Ð™ Ð—ÐÐ“Ð Ð£Ð—ÐšÐ˜ ==== -->
                <Grid x:Name="LoadingOverlay" 
                      Visibility="Collapsed" 
                      Background="#AA060B1A">
                    <Border Background="#0D1733" 
                            CornerRadius="15" 
                            Padding="30,20"
                            HorizontalAlignment="Center" 
                            VerticalAlignment="Center"
                            BorderBrush="#2A4361"
                            BorderThickness="2">
                        <StackPanel HorizontalAlignment="Center">
                            <!-- Ð’Ñ€Ð°Ñ‰Ð°ÑŽÑ‰Ð¸Ð¹ÑÑ ÑÐ¿Ð¸Ð½Ð½ÐµÑ€ -->
                            <Border x:Name="SpinnerBorder" 
                                    Width="50" Height="50" 
                                    CornerRadius="25"
                                    BorderBrush="#98F019" 
                                    BorderThickness="4,4,1,1"
                                    RenderTransformOrigin="0.5,0.5">
                                <Border.RenderTransform>
                                    <RotateTransform x:Name="SpinnerRotate" Angle="0"/>
                                </Border.RenderTransform>
                            </Border>
                            <TextBlock x:Name="LoadingText" 
                                       Text="Ð—Ð°Ð¿ÑƒÑÐº ViewLink..." 
                                       Foreground="White" 
                                       FontSize="14" 
                                       FontWeight="SemiBold"
                                       Margin="0,15,0,0"
                                       HorizontalAlignment="Center"/>
                        </StackPanel>
                    </Border>
                </Grid>
            </Grid>
        </Grid>
    </Border>
</Window>

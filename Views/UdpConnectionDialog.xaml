<Window x:Class="SimpleDroneGCS.Views.UdpConnectionDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="UDP Подключение"
        Width="420" Height="400"
        WindowStartupLocation="CenterOwner"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="NoResize">

    <Border Background="#0D1733" 
            BorderBrush="#2A4361" 
            BorderThickness="2" 
            CornerRadius="10">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- ЗАГОЛОВОК -->
            <Grid Grid.Row="0" Margin="0,0,0,20">
                <TextBlock Text="UDP Подключение" 
                           FontSize="18" 
                           FontWeight="Bold" 
                           Foreground="White"/>
                <Button Content="✕" 
                        HorizontalAlignment="Right"
                        Background="Transparent"
                        Foreground="#EF4444"
                        BorderThickness="0"
                        FontSize="16"
                        Cursor="Hand"
                        Click="CloseButton_Click"/>
            </Grid>

            <!-- ПОЛЯ ВВОДА -->
            <StackPanel Grid.Row="1" VerticalAlignment="Top">

                <!-- ЗАГОТОВКИ -->
                <TextBlock Text="БЫСТРЫЕ НАСТРОЙКИ" 
                           Foreground="#98F019" 
                           FontSize="11"
                           FontWeight="Bold"
                           Margin="0,0,0,8"/>
                
                <WrapPanel Margin="0,0,0,15">
                    <Button Content="🚁 Дрон (236)" 
                            Click="PresetDrone_Click"
                            Background="#1E3A5F" Foreground="White"
                            BorderThickness="0" Padding="12,6" Margin="0,0,8,5"
                            FontSize="11" Cursor="Hand"
                            ToolTip="192.168.1.236:15000 → local:192.168.1.33:15000"/>
                    <Button Content="🖥️ Симулятор" 
                            Click="PresetSimulator_Click"
                            Background="#1E3A5F" Foreground="White"
                            BorderThickness="0" Padding="12,6" Margin="0,0,8,5"
                            FontSize="11" Cursor="Hand"
                            ToolTip="localhost:14550"/>
                    <Button Content="📡 Ожидание" 
                            Click="PresetListen_Click"
                            Background="#1E3A5F" Foreground="White"
                            BorderThickness="0" Padding="12,6" Margin="0,0,0,5"
                            FontSize="11" Cursor="Hand"
                            ToolTip="Ждать входящее подключение на 14550"/>
                </WrapPanel>

                <!-- Секция: Дрон/Симулятор -->
                <TextBlock Text="АДРЕС ДРОНА (опционально)" 
                           Foreground="#98F019" 
                           FontSize="11"
                           FontWeight="Bold"
                           Margin="0,0,0,8"/>

                <!-- IP дрона -->
                <Grid Margin="0,0,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="140"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="IP адрес дрона:" 
                               Foreground="White" 
                               VerticalAlignment="Center"/>
                    <TextBox x:Name="HostIpTextBox"
                             Grid.Column="1"
                             Text=""
                             Background="#060B1A"
                             Foreground="White"
                             BorderBrush="#2A4361"
                             Padding="10,8"
                             FontSize="14"/>
                </Grid>

                <!-- Порт дрона -->
                <Grid Margin="0,0,0,15">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="140"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="Порт дрона:" 
                               Foreground="White" 
                               VerticalAlignment="Center"/>
                    <TextBox x:Name="HostPortTextBox"
                             Grid.Column="1"
                             Text=""
                             Background="#060B1A"
                             Foreground="White"
                             BorderBrush="#2A4361"
                             Padding="10,8"
                             FontSize="14"/>
                </Grid>

                <!-- Секция: Локальные настройки -->
                <TextBlock Text="ЛОКАЛЬНЫЕ НАСТРОЙКИ" 
                           Foreground="#98F019" 
                           FontSize="11"
                           FontWeight="Bold"
                           Margin="0,5,0,8"/>

                <!-- Локальный IP -->
                <Grid Margin="0,0,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="140"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="Локальный IP:" 
                               Foreground="White" 
                               VerticalAlignment="Center"/>
                    <TextBox x:Name="LocalIpTextBox"
                             Grid.Column="1"
                             Text="0.0.0.0"
                             Background="#060B1A"
                             Foreground="White"
                             BorderBrush="#2A4361"
                             Padding="10,8"
                             FontSize="14"/>
                </Grid>

                <!-- Локальный порт -->
                <Grid Margin="0,0,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="140"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="Локальный порт:" 
                               Foreground="White" 
                               VerticalAlignment="Center"/>
                    <TextBox x:Name="LocalPortTextBox"
                             Grid.Column="1"
                             Text="14550"
                             Background="#060B1A"
                             Foreground="White"
                             BorderBrush="#2A4361"
                             Padding="10,8"
                             FontSize="14"/>
                </Grid>

                <!-- Подсказки -->
                <StackPanel Margin="0,8,0,0">
                    <TextBlock Text="💡 Оставьте адрес дрона пустым для режима ожидания" 
                               Foreground="#6B7280" 
                               FontSize="11"
                               TextWrapping="Wrap"/>
                    <TextBlock Text="💡 Локальный IP 0.0.0.0 = все сетевые интерфейсы" 
                               Foreground="#6B7280" 
                               FontSize="11"
                               Margin="0,3,0,0"/>
                </StackPanel>
            </StackPanel>

            <!-- КНОПКИ -->
            <StackPanel Grid.Row="2" 
                        Orientation="Horizontal" 
                        HorizontalAlignment="Right"
                        Margin="0,20,0,0">
                <Button Content="Отмена" 
                        Width="100" Height="35"
                        Background="#2A4361"
                        Foreground="White"
                        BorderThickness="0"
                        Margin="0,0,10,0"
                        Cursor="Hand"
                        Click="CancelButton_Click"/>
                <Button Content="Подключить" 
                        Width="120" Height="35"
                        Background="#98F019"
                        Foreground="#060B1A"
                        FontWeight="Bold"
                        BorderThickness="0"
                        Cursor="Hand"
                        Click="ConnectButton_Click"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>

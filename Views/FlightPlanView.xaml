<UserControl x:Class="SimpleDroneGCS.Views.FlightPlanView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:gmap="clr-namespace:GMap.NET.WindowsPresentation;assembly=GMap.NET.WindowsPresentation"
             Background="{StaticResource SpaceBlack}">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition Width="487.971"/>
        </Grid.ColumnDefinitions>

        <!-- Ð›Ð•Ð’ÐÐ¯ Ð§ÐÐ¡Ð¢Ð¬: ÐšÐÐ Ð¢Ð Ð”Ð›Ð¯ ÐŸÐ›ÐÐÐ˜Ð ÐžÐ’ÐÐÐ˜Ð¯ -->
        <Border Grid.Column="0" 
                Background="{StaticResource DarkPanel}"
                BorderBrush="{StaticResource BlueGray}"
                BorderThickness="2"
                CornerRadius="12"
                ClipToBounds="True"
                Margin="0,0,10,0">
            <Grid>
                <!-- ÐšÐ°Ñ€Ñ‚Ð° -->
                <gmap:GMapControl x:Name="PlanMap" 
                                  Background="Transparent"
                                  Panel.ZIndex="0"
                                  Zoom="17"
                                  MinZoom="2"
                                  MaxZoom="20"
                                  MouseWheelZoomEnabled="True"
                                  MouseWheelZoomType="MousePositionAndCenter"
                                  MouseDoubleClick="PlanMap_MouseDoubleClick"
                                  MouseWheel="PlanMap_MouseWheel"/>


                <!-- ÐŸÐžÐ›Ð—Ð£ÐÐžÐš Ð—Ð£ÐœÐ (ÑÐ¿Ñ€Ð°Ð²Ð°) -->
                <Border HorizontalAlignment="Right"
   VerticalAlignment="Center"
   Background="#0D1733"
   BorderBrush="{StaticResource BlueGray}"
   BorderThickness="2"
   CornerRadius="8"
   Padding="0,10,0,10"
   Margin="20" Width="48">
                    <StackPanel Width="40">
                        <TextBlock Text="ðŸ”"
          Foreground="White"
          FontSize="16"
          HorizontalAlignment="Center"
          Margin="0,0,0,5"/>
                        <Slider x:Name="ZoomSlider"
           Orientation="Vertical"
           Minimum="2"
           Maximum="20"
           Value="15"
           Height="200"
           TickFrequency="1"
           IsSnapToTickEnabled="True"
           ValueChanged="ZoomSlider_ValueChanged" HorizontalAlignment="Center"/>
                        <TextBlock Text="{Binding ElementName=ZoomSlider, Path=Value, StringFormat='{}{0:F0}'}"
          Foreground="White"
          FontSize="11"
          HorizontalAlignment="Center"
          Margin="0,5,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Ð’Ð«Ð‘ÐžÐ  ÐšÐÐ Ð¢Ð« (Ð²Ð½Ð¸Ð·Ñƒ ÑÐ»ÐµÐ²Ð°) -->
                <StackPanel Orientation="Horizontal"
                           VerticalAlignment="Bottom"
                           HorizontalAlignment="Left"
                           Margin="20"
                           Panel.ZIndex="10">
                    <ComboBox x:Name="MapTypeCombo"
                             Style="{StaticResource CustomComboBoxStyle}"
                             ItemContainerStyle="{StaticResource CustomComboBoxItemStyle}"
                             SelectionChanged="MapTypeCombo_SelectionChanged" Height="42">
                        <ComboBoxItem Content="Google Satellite" Tag="GoogleSatellite" IsSelected="True"/>
                        <ComboBoxItem Content="Google Map" Tag="GoogleMap"/>
                        <ComboBoxItem Content="OpenStreetMap" Tag="OpenStreetMap"/>
                        <ComboBoxItem Content="Bing Satellite" Tag="BingSatellite"/>
                        <ComboBoxItem Content="Bing Map" Tag="BingMap"/>
                    </ComboBox>
                    <!-- Ð Ð°Ð´Ð¸ÑƒÑ Ð¼ÐµÑ‚Ð¾Ðº (ÑÐ¿Ñ€Ð°Ð²Ð° Ð¾Ñ‚ ComboBox) -->
                    <Border HorizontalAlignment="Center"
        Background="{DynamicResource MidBlue}"
        BorderThickness="2"
        CornerRadius="8"
        Padding="10"
        Margin="15,0,0,0"
        Panel.ZIndex="10">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Ð Ð°Ð´Ð¸ÑƒÑ:" 
                   Foreground="{StaticResource White}" 
                   FontSize="11" 
                   VerticalAlignment="Center"
                   Margin="0,0,10,0"/>
                            <Slider x:Name="RadiusSlider"
                Minimum="10"
                Maximum="100"
                Value="30"
                Width="100"
                VerticalAlignment="Center"
                ValueChanged="RadiusSlider_ValueChanged"/>
                            <TextBlock Text="{Binding ElementName=RadiusSlider, Path=Value, StringFormat='{}{0:F0}Ð¼'}"
                   Foreground="{StaticResource AcidGreen}"
                   FontSize="11"
                   FontWeight="Bold"
                   VerticalAlignment="Center"
                   Margin="10,0,0,0"/>
                        </StackPanel>
                    </Border>
                </StackPanel>

            </Grid>
        </Border>

        <!-- ÐŸÐ ÐÐ’ÐÐ¯ Ð§ÐÐ¡Ð¢Ð¬: Ð¡ÐŸÐ˜Ð¡ÐžÐš WAYPOINTS -->
        <Border Grid.Column="1" 
                Background="{StaticResource DarkBlue}"
                BorderBrush="{StaticResource MidBlue}"
                BorderThickness="2"
                CornerRadius="8">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Ð—ÐÐ“ÐžÐ›ÐžÐ’ÐžÐš -->
                <Border Grid.Row="0" 
                        CornerRadius="5,5,0,0"
                        Background="{StaticResource MidBlue}"
                        Padding="15,10">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                                   Text="ÐœÐÐ Ð¨Ð Ð£Ð¢ÐÐ«Ð• Ð¢ÐžÐ§ÐšÐ˜"
                                   Foreground="{StaticResource AcidGreen}"
                                   FontSize="16"
                                   FontWeight="Bold"
                                   VerticalAlignment="Center"/>

                        <TextBlock Grid.Column="1"
                                   x:Name="WaypointsCountText"
                                   Text="Ð¢Ð¾Ñ‡ÐµÐº: 0"
                                   Foreground="{StaticResource TextGray}"
                                   FontSize="11"
                                   HorizontalAlignment="Right"
                                   VerticalAlignment="Center"
                                   Margin="10,0,0,0"/>
                    </Grid>
                </Border>

                <!-- Ð¢ÐÐ‘Ð›Ð˜Ð¦Ð WAYPOINTS -->
                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="5">
                        <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸ ÐºÐ¾Ð»Ð¾Ð½Ð¾Ðº -->
                        <Border Background="#1A2433" Padding="8,5" Margin="0,0,0,3">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="30"/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition Width="70"/>
                                    <ColumnDefinition Width="36"/>
                                    <ColumnDefinition Width="124"/>
                                </Grid.ColumnDefinitions>

                                <TextBlock Grid.Column="0" Text="#" Foreground="{StaticResource TextGray}" FontSize="10" FontWeight="Bold"/>
                                <TextBlock Grid.Column="1" Text="ÐšÐ¾Ð¼Ð°Ð½Ð´Ð°" Foreground="{StaticResource TextGray}" FontSize="10" FontWeight="Bold" Margin="5,0,50,0"/>
                                <TextBlock Grid.Column="1" Text="Ð’Ñ‹ÑÐ¾Ñ‚Ð° (Ð¼)" Foreground="{StaticResource TextGray}" FontSize="10" FontWeight="Bold" Margin="160,0,40,0" Grid.ColumnSpan="2"/>
                                <TextBlock Grid.Column="2" Text="Delay (Ñ)" Foreground="{StaticResource TextGray}" FontSize="10" FontWeight="Bold" Margin="35,0,14,0" Grid.ColumnSpan="2"/>
                                <TextBlock Grid.Column="4" Text="Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ" Foreground="{StaticResource TextGray}" FontSize="10" FontWeight="Bold" HorizontalAlignment="Left" Width="96" Margin="28,0,0,0"/>
                            </Grid>
                        </Border>

                        <!-- Ð”Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº waypoints -->
                        <StackPanel x:Name="WaypointsListPanel"/>
                    </StackPanel>
                </ScrollViewer>

                <!-- ÐšÐÐžÐŸÐšÐ˜ Ð£ÐŸÐ ÐÐ’Ð›Ð•ÐÐ˜Ð¯ -->
                <StackPanel Grid.Row="2" Margin="10" Background="{StaticResource DarkBlue}">
                    <TextBlock x:Name="DistanceText"
                               Text="ÐžÐ±Ñ‰Ð°Ñ Ð´Ð¸ÑÑ‚Ð°Ð½Ñ†Ð¸Ñ: 0 Ð¼"
                               Foreground="{StaticResource TextGray}"
                               FontSize="11"
                               Margin="5,5,5,10"/>

                    <!-- Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¼Ð¸ÑÑÐ¸ÐµÐ¹ -->
                    <Border BorderBrush="{StaticResource BlueGray}" 
                            BorderThickness="0,1,0,0" 
                            Padding="0,10,0,0">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>


                            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° HOME -->
                            <Button Grid.Row="0" Grid.ColumnSpan="2"
                                Content="ðŸ  Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ HOME" 
                                Style="{StaticResource DroneButtonStyle}" 
                                Background="#EF4464" 
                                Height="38" 
                                FontSize="12" 
                                Margin="0,0,0,10" 
                                Click="SetHomeButton_Click"/>
                            <!-- ÐŸÐµÑ€Ð²Ñ‹Ð¹ Ñ€ÑÐ´: Write Ð¸ Read -->
                            <Button Grid.Row="1" Grid.Column="0" 
                                    Content="Ð—Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ" 
                                    Style="{StaticResource GreenButtonStyle}" 
                                    Height="38" 
                                    FontSize="12" 
                                    Margin="0,0,3,5" 
                                    Click="UploadButton_Click"/>
                            <Button Grid.Row="1" Grid.Column="1" 
                                    Content="Ð§Ð¸Ñ‚Ð°Ñ‚ÑŒ" 
                                    Style="{StaticResource DroneButtonStyle}" 
                                    Height="38" 
                                    FontSize="12" 
                                    Margin="3,0,0,5" 
                                    Click="DownloadButton_Click"/>

                            <!-- Ð’Ñ‚Ð¾Ñ€Ð¾Ð¹ Ñ€ÑÐ´: Save WPs Ð¸ Load WPs -->
                            <Button Grid.Row="2" Grid.Column="0" 
                                    Content="Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ ÐœÐµÑ‚ÐºÐ¸" 
                                    Style="{StaticResource DroneButtonStyle}" 
                                    Height="35" 
                                    FontSize="11" 
                                    Margin="0,0,3,0" 
                                    Click="SaveButton_Click"/>
                            <Button Grid.Row="2" Grid.Column="1" 
                                    Content="Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ ÐœÐµÑ‚ÐºÐ¸" 
                                    Style="{StaticResource DroneButtonStyle}" 
                                    Height="35" 
                                    FontSize="11" 
                                    Margin="3,0,0,0" 
                                    Click="LoadButton_Click"/>
                        </Grid>
                    </Border>

                    <!-- Clear ÐºÐ½Ð¾Ð¿ÐºÐ° -->
                    <Button Content="ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ ÐœÐµÑ‚ÐºÐ¸" 
                            Style="{StaticResource DroneButtonStyle}" 
                            Background="#EF4444" 
                            Height="35" 
                            FontSize="11" 
                            Margin="0,10,0,0" 
                            Click="ClearButton_Click"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</UserControl>

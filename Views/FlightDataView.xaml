<Page x:Class="SimpleDroneGCS.Views.FlightDataView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:gmap="clr-namespace:GMap.NET.WindowsPresentation;assembly=GMap.NET.WindowsPresentation"
      xmlns:local="clr-namespace:SimpleDroneGCS.Controls"
      Background="{StaticResource DarkBackground}">

    <Page.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Resources/Styles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Page.Resources>

    <Grid Margin="10,10,10,0">
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition Width="360"/>
        </Grid.ColumnDefinitions>



        <!-- ==================== ÐšÐÐ Ð¢Ð Ð¡Ð›Ð•Ð’Ð ==================== -->
        <Border Grid.Column="0"
                Background="{StaticResource DarkPanel}"
                BorderBrush="{StaticResource BlueGray}"
                BorderThickness="2"
                CornerRadius="12"
                Margin="0,0,10,0">
            <Grid>
                <!-- GMap Control -->
                <gmap:GMapControl x:Name="MainMap" 
                                  Background="Transparent"
                                  Zoom="15"
                                  MinZoom="2"
                                  MaxZoom="20"
                                  MouseWheelZoomEnabled="True"
                                  MouseWheelZoomType="MousePositionAndCenter"
                                  MouseWheel="MainMap_MouseWheel"/>


                <!-- Ð¡Ð•Ð›Ð•ÐšÐ¢ÐžÐ  Ð¢Ð˜ÐŸÐ Ð”Ð ÐžÐÐ (ÐºÐ»Ð¸ÐºÐ°Ð±ÐµÐ»ÑŒÐ½Ñ‹Ð¹) -->
                <Border HorizontalAlignment="Left"
        VerticalAlignment="Top"
        Background="#DD0D1733"
        BorderBrush="{StaticResource BlueGray}"
        BorderThickness="2"
        CornerRadius="8"
        Padding="8,4"
        Margin="15,15,0,0"
        Cursor="Hand"
        MouseLeftButtonDown="VehicleTypeSelector_Click">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock x:Name="VehicleIcon"
                  Text="ðŸš" 
                  FontSize="14"
                  Foreground="#98F019"
                  VerticalAlignment="Center"
                  Margin="0,0,6,0"/>
                        <TextBlock x:Name="VehicleTypeName"
                  Text="Multicopter" 
                  Foreground="#98F019" 
                  FontWeight="Bold"
                  FontSize="12"
                  VerticalAlignment="Center"
                  Margin="0,0,6,0"/>
                        <TextBlock Text="â–¼"
                  FontSize="9"
                  Foreground="#98F019"
                  VerticalAlignment="Center"/>
                    </StackPanel>
                </Border>

                <!-- ÐŸÐžÐ›Ð—Ð£ÐÐžÐš Ð—Ð£ÐœÐ (ÑÐ¿Ñ€Ð°Ð²Ð°) -->
                <Border HorizontalAlignment="Right"
                   VerticalAlignment="Center"
                   Background="#0D1733"
                   BorderBrush="{StaticResource BlueGray}"
                   BorderThickness="2"
                   CornerRadius="8"
                   Padding="0,8"
                   Margin="15" Width="42">
                    <StackPanel Width="36">
                        <TextBlock Text="ðŸ”"
                          Foreground="White"
                          FontSize="14"
                          HorizontalAlignment="Center"
                          Margin="0,0,0,4"/>
                        <Slider x:Name="ZoomSlider"
                           Orientation="Vertical"
                           Minimum="2"
                           Maximum="20"
                           Value="15"
                           Height="150"
                           TickFrequency="1"
                           IsSnapToTickEnabled="True"
                           ValueChanged="ZoomSlider_ValueChanged" HorizontalAlignment="Center"/>
                        <TextBlock Text="{Binding ElementName=ZoomSlider, Path=Value, StringFormat='{}{0:F0}'}"
                          Foreground="White"
                          FontSize="10"
                          HorizontalAlignment="Center"
                          Margin="0,4,0,0"/>
                    </StackPanel>
                </Border>

                <!-- ÐšÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ñ‹ ÐºÐ°Ñ€Ñ‚Ñ‹ ÑÐ½Ð¸Ð·Ñƒ -->
                <StackPanel Orientation="Horizontal"
                           VerticalAlignment="Bottom"
                           HorizontalAlignment="Left"
                           Margin="15">
                    <ComboBox x:Name="MapTypeCombo"
                             Style="{StaticResource CustomComboBoxStyle}"
                             ItemContainerStyle="{StaticResource CustomComboBoxItemStyle}"
                             SelectionChanged="MapTypeCombo_SelectionChanged">
                        <ComboBoxItem Content="Google Satellite" Tag="GoogleSatellite" IsSelected="True"/>
                        <ComboBoxItem Content="Google Map" Tag="GoogleMap"/>
                        <ComboBoxItem Content="OpenStreetMap" Tag="OpenStreetMap"/>
                        <ComboBoxItem Content="Bing Satellite" Tag="BingSatellite"/>
                        <ComboBoxItem Content="Bing Map" Tag="BingMap"/>
                    </ComboBox>
                </StackPanel>
                <!-- ÐšÐžÐœÐŸÐÐšÐ¢ÐÐÐ¯ ÐŸÐÐÐ•Ð›Ð¬: MSL + ÐšÐžÐžÐ Ð”Ð˜ÐÐÐ¢Ð« + ÐšÐžÐœÐŸÐÐ¡ -->
                <Border HorizontalAlignment="Right"
                        VerticalAlignment="Bottom"
                        Background="#DD0D1733"
                        BorderBrush="{StaticResource BlueGray}"
                        BorderThickness="2"
                        CornerRadius="10"
                        Padding="10,8"
                        Margin="0,0,15,10">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- Ð›Ð•Ð’ÐÐ¯ Ð§ÐÐ¡Ð¢Ð¬: Ð”Ð°Ð½Ð½Ñ‹Ðµ -->
                        <StackPanel Grid.Column="0" VerticalAlignment="Center" Margin="0,0,12,0">
                            <!-- MSL -->
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                                <TextBlock Text="MSL" Foreground="#4FC3F7" FontSize="11" FontWeight="Bold" Width="34"/>
                                <TextBlock x:Name="AltMslText" Text="---" Foreground="White" FontSize="12" FontWeight="Bold" FontFamily="Consolas"/>
                                <TextBlock Text=" Ð¼" Foreground="#666" FontSize="10" VerticalAlignment="Bottom"/>
                            </StackPanel>

                            <!-- Ð”Ð ÐžÐ -->
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,3">
                                <TextBlock Text="âœˆ" Foreground="#98F019" FontSize="11" Margin="0,0,4,0"/>
                                <TextBlock Text="Ð”Ð ÐžÐ" Foreground="#98F019" FontSize="10" FontWeight="SemiBold" Width="38"/>
                                <TextBlock x:Name="DroneLatText" Text="0.0000" Foreground="White" FontSize="11" FontFamily="Consolas"/>
                                <TextBlock Text=" | " Foreground="#444" FontSize="11"/>
                                <TextBlock x:Name="DroneLonText" Text="0.0000" Foreground="White" FontSize="11" FontFamily="Consolas"/>
                            </StackPanel>

                            <!-- HOME -->
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="âŒ‚" Foreground="#FF6B35" FontSize="12" Margin="0,0,4,0"/>
                                <TextBlock Text="HOME" Foreground="#FF6B35" FontSize="10" FontWeight="SemiBold" Width="38"/>
                                <TextBlock x:Name="HomeLatText" Text="0.0000" Foreground="White" FontSize="11" FontFamily="Consolas"/>
                                <TextBlock Text=" | " Foreground="#444" FontSize="11"/>
                                <TextBlock x:Name="HomeLonText" Text="0.0000" Foreground="White" FontSize="11" FontFamily="Consolas"/>
                                <TextBlock x:Name="HomeSourceText" Text="" Foreground="#666" FontSize="8" VerticalAlignment="Bottom" Margin="3,0,0,1"/>
                            </StackPanel>
                        </StackPanel>

                        <!-- ÐŸÐ ÐÐ’ÐÐ¯ Ð§ÐÐ¡Ð¢Ð¬: ÐšÐ¾Ð¼Ð¿Ð°Ñ -->
                        <Grid Grid.Column="1" Width="60" Height="60">
                            <!-- ÐšÐ¾Ð»ÑŒÑ†Ð¾ ÐºÐ¾Ð¼Ð¿Ð°ÑÐ° -->
                            <Ellipse Width="60" Height="60" Stroke="#2A4361" StrokeThickness="2"/>
                            <Ellipse Width="54" Height="54" Fill="#0A1015"/>

                            <!-- Ð¡Ñ‚Ð°Ñ‚Ð¸Ñ‡Ð½Ñ‹Ðµ Ð¼ÐµÑ‚ÐºÐ¸ -->
                            <TextBlock Text="N" Foreground="#98F019" FontSize="10" FontWeight="Bold"
                       HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,6,0,0"/>
                            <TextBlock Text="S" Foreground="#555" FontSize="8"
                       HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,0,0,6"/>
                            <TextBlock Text="E" Foreground="#555" FontSize="8"
                       HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,7,0"/>
                            <TextBlock Text="W" Foreground="#555" FontSize="8"
                       HorizontalAlignment="Left" VerticalAlignment="Center" Margin="7,0,0,0"/>

                            <!-- Ð’Ñ€Ð°Ñ‰Ð°ÑŽÑ‰Ð°ÑÑÑ Ð¸ÐºÐ¾Ð½ÐºÐ° Ð´Ñ€Ð¾Ð½Ð° -->
                            <Image x:Name="DroneCompassIcon"
                                       Source="/Images/pl.png"
                                       Width="22" Height="22"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       RenderTransformOrigin="0.5,0.5"
                                       RenderOptions.BitmapScalingMode="HighQuality">
                                <Image.RenderTransform>
                                    <RotateTransform x:Name="DroneHeadingRotation" Angle="0"/>
                                </Image.RenderTransform>
                            </Image>

                            <!-- Heading -->
                            <Border Background="#CC0D1733" CornerRadius="3" Padding="3,1"
                                    HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,0,0,-3">
                                <TextBlock x:Name="HeadingText" Text="0Â°"
                                            Foreground="#98F019" FontSize="9" FontWeight="Bold"/>
                            </Border>
                        </Grid>
                    </Grid>
                </Border>
            </Grid>
        </Border>

        <!-- ==================== ÐŸÐ ÐÐ’ÐÐ¯ ÐŸÐÐÐ•Ð›Ð¬ ==================== -->
        <Grid Grid.Column="1">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel>

                    <!-- Ð˜ÑÐºÑƒÑÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð³Ð¾Ñ€Ð¸Ð·Ð¾Ð½Ñ‚ -->
                    <Border Background="{StaticResource DarkBlue}"
                            CornerRadius="8" Padding="8">
                        <Viewbox Stretch="Uniform" MaxHeight="180">
                            <local:AttitudeIndicator x:Name="AttitudeIndicator"
                                 Roll="{Binding Roll}"
                                 Pitch="{Binding Pitch}"
                                 HorizontalAlignment="Center"
                                 VerticalAlignment="Center" Height="250" Width="450"/>
                        </Viewbox>
                    </Border>

                    <!-- Ð’Ñ‹ÑÐ¾Ñ‚Ð° Ð¸ ÑÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ -->
                    <Grid Margin="0,8,0,8">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Border Grid.Column="0"
                               Style="{StaticResource TelemetryBoxSecondStyle}"
                               Margin="0,0,4,0">
                            <StackPanel>
                                <TextBlock Text="Ð’Ñ‹ÑÐ¾Ñ‚Ð°:"
                                          Foreground="{StaticResource AcidGreen}"
                                          FontSize="10"
                                          Margin="0,0,0,3"/>
                                <TextBlock x:Name="AltitudeValue"
                                          Text="0.0 Ð¼"
                                          Foreground="{StaticResource WhiteText}"
                                          FontSize="18"
                                          FontWeight="Bold"/>
                            </StackPanel>
                        </Border>

                        <Border Grid.Column="1"
                               Style="{StaticResource TelemetryBoxSecondStyle}"
                               Margin="4,0,0,0">
                            <StackPanel>
                                <TextBlock Text="Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ:"
                                          Foreground="{StaticResource AcidGreen}"
                                          FontSize="10"
                                          Margin="0,0,0,3"/>
                                <TextBlock x:Name="SpeedValue"
                                          Text="0.0 Ð¼/Ñ"
                                          Foreground="{StaticResource WhiteText}"
                                          FontSize="18"
                                          FontWeight="Bold"/>
                            </StackPanel>
                        </Border>

                    </Grid>

                    <!-- GPS Fix Ð¸ Ð±Ð°Ñ‚Ð°Ñ€ÐµÑ -->
                    <Border Background="{DynamicResource DarkBlue}" Margin="0,0,0,8" Height="28" CornerRadius="8">
                        <Grid Height="28" Margin="10,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>


                            <Ellipse Grid.Column="0"
                                x:Name="GpsIndicator"
                                Width="14" Height="14"
                                Fill="#4CAF50"
                                Margin="0,0,8,0"
                                VerticalAlignment="Center"/>

                            <TextBlock Grid.Column="1"
                                  x:Name="GpsStatusText"
                                  Text="GPS Fix"
                                  Foreground="{StaticResource WhiteText}"
                                  FontSize="12"
                                  FontWeight="SemiBold"
                                  VerticalAlignment="Center"/>

                            <StackPanel Grid.Column="2"
           Orientation="Horizontal"
           VerticalAlignment="Center">
                                <TextBlock Text="â±ï¸"
              FontSize="14"
              Foreground="White"
              VerticalAlignment="Center"
              Margin="0,0,6,0"/>
                                <TextBlock x:Name="ConnectionTimerText"
              Text="00:00:00"
              Foreground="{StaticResource AcidGreen}"
              FontSize="12"
              FontWeight="SemiBold"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° ARM/DISARM -->
                    <Button x:Name="ArmButton"
                           Content="ÐÐšÐ¢Ð˜Ð’Ð˜Ð ÐžÐ’ÐÐ¢Ð¬"
                           Style="{StaticResource NavButtonStyle}"
                           Height="42"
                            Width="350"
                           Click="ArmButton_Click"
                           Margin="0,0,0,6">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border x:Name="border"
                    Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="2"
                    CornerRadius="8">
                                    <TextBlock x:Name="contentText"
                          Text="{TemplateBinding Content}"
                          Foreground="White"
                          FontSize="14"
                          FontWeight="Bold"
                          HorizontalAlignment="Center"
                          VerticalAlignment="Center"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource AcidGreen}"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                    <!-- Ð¢ÐµÐ»ÐµÐ¼ÐµÑ‚Ñ€Ð¸Ñ -->
                    <Border Background="{DynamicResource DarkBlue}"
        CornerRadius="12">
                        <Grid Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition x:Name="VtolRow1" Height="Auto"/>
                                <RowDefinition x:Name="VtolRow2" Height="Auto"/>
                                <RowDefinition x:Name="VtolRow3" Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- ÐšÐ¾Ð»-Ð²Ð¾ ÑÐ¿ÑƒÑ‚Ð½Ð¸ÐºÐ¾Ð² -->
                            <Border Grid.Row="0" Grid.Column="0"
                            Style="{StaticResource TelemetryBoxStyle}"
                            Margin="12,12,6,4" Height="32" Padding="8,4">
                                <Grid Margin="0,-2,0,-2">
                                    <TextBlock Text="Ð¡Ð¿ÑƒÑ‚Ð½Ð¸ÐºÐ¸"
                           Foreground="{StaticResource WhiteText}"
                           FontSize="11" VerticalAlignment="Center"/>
                                    <TextBlock x:Name="SatellitesValue"
                           Text="0"
                           Foreground="{StaticResource AcidGreen}"
                           FontSize="12"
                           FontWeight="SemiBold"
                           HorizontalAlignment="Right"
                           VerticalAlignment="Center"/>
                                </Grid>
                            </Border>

                            <!-- Ð ÐµÐ¶Ð¸Ð¼Ñ‹ -->
                            <Border Grid.Row="0" Grid.Column="1"
                Style="{StaticResource TelemetryBoxStyle}"
                Margin="6,12,12,4" Height="32" Padding="8,4">
                                <Grid Margin="0,-2,0,-2">
                                    <TextBlock Text="Ð ÐµÐ¶Ð¸Ð¼"
                           Foreground="{StaticResource WhiteText}"
                           FontSize="11"
                           VerticalAlignment="Center"/>
                                    <TextBlock x:Name="FlightModeValue"
                           Text="STABILIZE"
                           Foreground="{StaticResource AcidGreen}"
                           FontSize="11"
                           FontWeight="SemiBold"
                           HorizontalAlignment="Right"
                           VerticalAlignment="Center"/>
                                </Grid>
                            </Border>

                            <!-- Ð‘Ð°Ñ‚Ð°Ñ€ÐµÑ -->
                            <Border Grid.Row="1" Grid.Column="0"
                Style="{StaticResource TelemetryBoxStyle}"
                Margin="12,4,6,12" Height="32" Padding="8,4">
                                <Grid Margin="0,-2,0,-2">
                                    <TextBlock Text="Ð‘Ð°Ñ‚Ð°Ñ€ÐµÑ"
                           Foreground="{StaticResource WhiteText}"
                           FontSize="11"
                           VerticalAlignment="Center"/>
                                    <TextBlock x:Name="BatteryVoltageValue"
                           Text="0.0V"
                           Foreground="{StaticResource AcidGreen}"
                           FontSize="12"
                           FontWeight="SemiBold"
                           HorizontalAlignment="Right"
                           VerticalAlignment="Center"/>
                                </Grid>
                            </Border>

                            <!-- Ð—Ð°Ñ€ÑÐ´ -->
                            <Border Grid.Row="1" Grid.Column="1"
                Style="{StaticResource TelemetryBoxStyle}"
                Margin="6,4,12,12" Height="32" Padding="8,4">
                                <Grid Margin="0,-2,0,-2">
                                    <TextBlock Text="Ð—Ð°Ñ€ÑÐ´"
                           Foreground="{StaticResource WhiteText}"
                           FontSize="11"
                           VerticalAlignment="Center"/>
                                    <TextBlock x:Name="BatteryPercentValue"
                           Text="0%"
                           Foreground="{StaticResource AcidGreen}"
                           FontSize="12"
                           FontWeight="SemiBold"
                           HorizontalAlignment="Right"
                           VerticalAlignment="Center"/>
                                </Grid>
                            </Border>

                            <!-- ========== VTOL ÐœÐžÐ¢ÐžÐ Ð« (Row 2-4) ========== -->

                            <!-- ÐœÐ¾Ñ‚Ð¾Ñ€ 1 -->
                            <Border x:Name="Motor1Border" Grid.Row="2" Grid.Column="0"
                Style="{StaticResource TelemetryBoxStyle}"
                Margin="12,0,6,4" Height="32" Padding="8,4" 
                Visibility="Collapsed">
                                <Grid Margin="0,-2,0,-2">
                                    <TextBlock Text="ÐœÐ¾Ñ‚Ð¾Ñ€ 1"
                           Foreground="{StaticResource WhiteText}"
                           FontSize="11"
                           VerticalAlignment="Center"/>
                                    <TextBlock x:Name="Motor1Value"
                           Text="0%"
                           Foreground="#4FC3F7"
                           FontSize="11"
                           FontWeight="SemiBold"
                           HorizontalAlignment="Right"
                           VerticalAlignment="Center"/>
                                </Grid>
                            </Border>

                            <!-- ÐœÐ¾Ñ‚Ð¾Ñ€ 2 -->
                            <Border x:Name="Motor2Border" Grid.Row="2" Grid.Column="1"
                Style="{StaticResource TelemetryBoxStyle}"
                Margin="6,0,12,4" Height="32" Padding="8,4"
                Visibility="Collapsed">
                                <Grid Margin="0,-2,0,-2">
                                    <TextBlock Text="ÐœÐ¾Ñ‚Ð¾Ñ€ 2"
                           Foreground="{StaticResource WhiteText}"
                           FontSize="11"
                           VerticalAlignment="Center"/>
                                    <TextBlock x:Name="Motor2Value"
                           Text="0%"
                           Foreground="#4FC3F7"
                           FontSize="11"
                           FontWeight="SemiBold"
                           HorizontalAlignment="Right"
                           VerticalAlignment="Center"/>
                                </Grid>
                            </Border>

                            <!-- ÐœÐ¾Ñ‚Ð¾Ñ€ 3 -->
                            <Border x:Name="Motor3Border" Grid.Row="3" Grid.Column="0"
                Style="{StaticResource TelemetryBoxStyle}"
                Margin="12,0,6,4" Height="32" Padding="8,4"
                Visibility="Collapsed">
                                <Grid Margin="0,-2,0,-2">
                                    <TextBlock Text="ÐœÐ¾Ñ‚Ð¾Ñ€ 3"
                           Foreground="{StaticResource WhiteText}"
                           FontSize="11"
                           VerticalAlignment="Center"/>
                                    <TextBlock x:Name="Motor3Value"
                           Text="0%"
                           Foreground="#4FC3F7"
                           FontSize="11"
                           FontWeight="SemiBold"
                           HorizontalAlignment="Right"
                           VerticalAlignment="Center"/>
                                </Grid>
                            </Border>

                            <!-- ÐœÐ¾Ñ‚Ð¾Ñ€ 4 -->
                            <Border x:Name="Motor4Border" Grid.Row="3" Grid.Column="1"
                Style="{StaticResource TelemetryBoxStyle}"
                Margin="6,0,12,4" Height="32" Padding="8,4"
                Visibility="Collapsed">
                                <Grid Margin="0,-2,0,-2">
                                    <TextBlock Text="ÐœÐ¾Ñ‚Ð¾Ñ€ 4"
                           Foreground="{StaticResource WhiteText}"
                           FontSize="11"
                           VerticalAlignment="Center"/>
                                    <TextBlock x:Name="Motor4Value"
                           Text="0%"
                           Foreground="#4FC3F7"
                           FontSize="11"
                           FontWeight="SemiBold"
                           HorizontalAlignment="Right"
                           VerticalAlignment="Center"/>
                                </Grid>
                            </Border>

                            <!-- Ð¢Ð¾Ð»ÐºÐ°ÑŽÑ‰Ð¸Ð¹ Ð¼Ð¾Ñ‚Ð¾Ñ€ -->
                            <Border x:Name="PusherBorder" Grid.Row="4" Grid.ColumnSpan="2"
                Style="{StaticResource TelemetryBoxStyle}"
                Margin="12,0,12,12" Height="32" Padding="8,4"
                Visibility="Collapsed">
                                <Grid Margin="0,-2,0,-2">
                                    <TextBlock Text="Ð¢Ð¾Ð»ÐºÐ°ÑŽÑ‰Ð¸Ð¹ Ð¼Ð¾Ñ‚Ð¾Ñ€"
                           Foreground="{StaticResource WhiteText}"
                           FontSize="11"
                           VerticalAlignment="Center"/>
                                    <TextBlock x:Name="PusherMotorValue"
                           Text="0%"
                           Foreground="#FF6B35"
                           FontSize="11"
                           FontWeight="SemiBold"
                           HorizontalAlignment="Right"
                           VerticalAlignment="Center"/>
                                </Grid>
                            </Border>
                        </Grid>
                    </Border>

                    <!-- ÐžÐºÐ½Ð¾ Ð¾ÑˆÐ¸Ð±ÐºÐ¸ (ÑÐºÑ€Ñ‹Ñ‚Ð¾ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ) -->
                    <Border x:Name="ErrorPanel"
                           CornerRadius="10"
                           BorderThickness="2"
                           BorderBrush="#FF0000"
                           Padding="12" Margin="0,8,0,0">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#8B0000" Offset="0"/>
                                <GradientStop Color="#5C0000" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0"
                                      Text="âš ï¸" FontSize="20"
                                      VerticalAlignment="Top"
                                       Foreground="White"
                                      Margin="0,0,10,0"/>
                            <StackPanel Grid.Column="1">
                                <TextBlock Text="ÐžÑˆÐ¸Ð±ÐºÐ°"
                                          FontSize="12"
                                          FontWeight="Bold"
                                           Foreground="White"
                                          Margin="0,0,0,4"/>
                                <TextBlock x:Name="ErrorText"
                                          Text="ÐŸÐ¾Ñ‚ÐµÑ€ÑÐ½Ð° ÑÐ²ÑÐ·ÑŒ Ñ Ð´Ñ€Ð¾Ð½Ð¾Ð¼"
                                          FontSize="11"
                                           Foreground="White"
                                          TextWrapping="Wrap"
                                          Opacity="0.9"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- Ð ÐµÐ¶Ð¸Ð¼Ñ‹ Ð¸ ÐºÐ°Ð»Ð¸Ð±Ñ€Ð¾Ð²ÐºÐ¸ -->
                    <Border Background="{DynamicResource DarkBlue}" CornerRadius="8,8,0,0" Margin="0,8,0,0">
                        <Grid Margin="8,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- Ð Ð•Ð–Ð˜ÐœÐ« ÐŸÐžÐ›Ð•Ð¢Ð -->
                            <ComboBox x:Name="FlightModeCombo"
                                      Grid.Column="0"
                                      Style="{StaticResource CustomComboBoxStyle}"
                                      ItemContainerStyle="{StaticResource CustomComboBoxItemStyle}"
                                      SelectionChanged="FlightModeCombo_SelectionChanged"
                                      SelectedIndex="0"
                                      Margin="0,0,4,0">
                                <ComboBoxItem Content="Ð ÐµÐ¶Ð¸Ð¼Ñ‹ Ð¿Ð¾Ð»ÐµÑ‚Ð¾Ð²" Tag=""/>
                                <ComboBoxItem Content="STABILIZE" Tag="STABILIZE"/>
                                <ComboBoxItem Content="ALT_HOLD" Tag="ALT_HOLD"/>
                                <ComboBoxItem Content="LOITER" Tag="LOITER"/>
                                <ComboBoxItem Content="AUTO" Tag="AUTO"/>
                                <ComboBoxItem Content="GUIDED" Tag="GUIDED"/>
                                <ComboBoxItem Content="RTL" Tag="RTL"/>
                                <ComboBoxItem Content="LAND" Tag="LAND"/>
                            </ComboBox>

                            <!-- ÐšÐÐ›Ð˜Ð‘Ð ÐžÐ’ÐšÐ˜ -->
                            <ComboBox x:Name="CalibrationCombo"
                  Grid.Column="1"
                  Style="{StaticResource CustomComboBoxStyle}"
                  ItemContainerStyle="{StaticResource CustomComboBoxItemStyle}"
                                      SelectionChanged="CalibrationCombo_SelectionChanged"
                  SelectedIndex="1"
                  Margin="4,0,0,0">

                            </ComboBox>
                        </Grid>
                    </Border>

                    <!-- Ð£Ð¿Ñ€Ð°Ð²Ð»ÑÑŽÑ‰Ð¸Ðµ ÐºÐ½Ð¾Ð¿ÐºÐ¸ -->
                    <Border Height="160"
        Background="{DynamicResource DarkBlue}"
        CornerRadius="0,0,8,8">
                        <Grid Margin="8,0,8,8">
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- Ð Ð¯Ð” 1 -->
                            <Button Grid.Row="0" Grid.Column="0"
        x:Name="LoiterButton"
        Content="Ð£Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸Ðµ"
        Style="{StaticResource FlightModeButtonStyle}"
        Click="LoiterButton_Click"
        Margin="0,0,3,3"/>

                            <Button Grid.Row="0" Grid.Column="1"
        x:Name="AltHoldButton"
        Content="Ð’Ñ‹ÑÐ¾Ñ‚Ð°"
        Style="{StaticResource FlightModeButtonStyle}"
        Click="AltHoldButton_Click"
        Margin="3,0,3,3"/>

                            <Button Grid.Row="0" Grid.Column="2"
                x:Name="CalibrateButton"
                Content="ÐšÐ°Ð»Ð¸Ð±Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ"
                Style="{StaticResource ControlButtonStyle}"
                Click="CalibrateButton_Click"
                Margin="3,0,0,3"/>

                            <!-- Ð Ð¯Ð” 2 -->
                            <Button Grid.Row="1" Grid.Column="0"
                x:Name="ExecuteModeButton"
                Content="Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ"
                Style="{StaticResource ControlButtonStyle}"
                Click="ExecuteModeButton_Click"
                Margin="0,3,3,3"/>

                            <Button Grid.Row="1" Grid.Column="1"
                x:Name="ManualModeButton"
                Content="Ð ÑƒÑ‡Ð½Ð¾Ð¹"
                Style="{StaticResource FlightModeButtonStyle}"
                Click="ManualModeButton_Click"
                Margin="3,3,3,3"/>

                            <Button Grid.Row="1" Grid.Column="2"
                x:Name="RtlButton"
                Content="Ð”Ð¾Ð¼Ð¾Ð¹"
                Style="{StaticResource FlightModeButtonStyle}"
                Click="RtlButton_Click"
                Margin="3,3,0,3"/>

                            <!-- Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð¼Ð¸ÑÑÐ¸Ð¸ -->
                            <TextBlock Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="3"
                   x:Name="MissionStatusText"
                   Text="ÐœÐ¸ÑÑÐ¸Ñ Ð½Ðµ Ð·Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ð°"
                   Foreground="{StaticResource TextGray}"
                   FontSize="10"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"
                   Margin="0,4,0,4"/>

                            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð°ÐºÑ‚Ð¸Ð²Ð°Ñ†Ð¸Ð¸ Ð¼Ð¸ÑÑÐ¸Ð¸ -->
                            <Button Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="3"
                x:Name="ActivateMissionButton"
                Content="ÐÐºÑ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¼Ð¸ÑÑÐ¸ÑŽ"
                Style="{StaticResource MissionButtonStyle}"
                Margin="0,2,0,0"
                Click="ActivateMissionButton_Click"/>
                        </Grid>
                    </Border>




                </StackPanel>
            </ScrollViewer>
        </Grid>
    </Grid>
</Page> 

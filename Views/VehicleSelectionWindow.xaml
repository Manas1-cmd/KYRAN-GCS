<Window x:Class="SimpleDroneGCS.Views.VehicleSelectionWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="KYRAN GCS - Vehicle Selection"
        Width="900" Height="600"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="NoResize"
        MouseLeftButtonDown="Window_MouseLeftButtonDown">

    <Window.Resources>
        <!-- Стиль для карточек выбора -->
        <Style x:Key="VehicleCardStyle" TargetType="Border">
            <Setter Property="Background" Value="#0D1733"/>
            <Setter Property="BorderBrush" Value="#2A4361"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                </Setter.Value>
            </Setter>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#98F019" BlurRadius="0" ShadowDepth="0" Opacity="0"/>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Effect">
                        <Setter.Value>
                            <DropShadowEffect Color="#98F019" BlurRadius="25" ShadowDepth="0" Opacity="0.7"/>
                        </Setter.Value>
                    </Setter>
                    <Trigger.EnterActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)"
                                               To="0.98" Duration="0:0:0.15">
                                    <DoubleAnimation.EasingFunction>
                                        <CubicEase EasingMode="EaseOut"/>
                                    </DoubleAnimation.EasingFunction>
                                </DoubleAnimation>
                                <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)"
                                               To="0.98" Duration="0:0:0.15">
                                    <DoubleAnimation.EasingFunction>
                                        <CubicEase EasingMode="EaseOut"/>
                                    </DoubleAnimation.EasingFunction>
                                </DoubleAnimation>
                            </Storyboard>
                        </BeginStoryboard>
                    </Trigger.EnterActions>
                    <Trigger.ExitActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)"
                                               To="1.0" Duration="0:0:0.15">
                                    <DoubleAnimation.EasingFunction>
                                        <CubicEase EasingMode="EaseOut"/>
                                    </DoubleAnimation.EasingFunction>
                                </DoubleAnimation>
                                <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)"
                                               To="1.0" Duration="0:0:0.15">
                                    <DoubleAnimation.EasingFunction>
                                        <CubicEase EasingMode="EaseOut"/>
                                    </DoubleAnimation.EasingFunction>
                                </DoubleAnimation>
                            </Storyboard>
                        </BeginStoryboard>
                    </Trigger.ExitActions>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <!-- Главный Border для скругления окна -->
    <Border Background="#060B1A"
            CornerRadius="16"
            BorderBrush="#2A4361"
            BorderThickness="2">
        <Border.Effect>
            <DropShadowEffect Color="Black" BlurRadius="30" ShadowDepth="0" Opacity="0.8"/>
        </Border.Effect>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Шапка с логотипом и заголовком -->
            <Grid Grid.Row="0" Margin="30,20">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <Image Source="/Images/drone_icon.png" Width="50" Height="50" Margin="0,0,15,0"/>
                    <StackPanel>
                        <TextBlock Text="KYRAN GCS" 
                                   FontSize="24" 
                                   FontWeight="Bold" 
                                   Foreground="#98F019"/>
                        <TextBlock Text="Выберите Тип Дрона" 
                                   FontSize="12" 
                                   Foreground="#CCCCCC"
                                   Margin="0,2,0,0"/>
                    </StackPanel>
                </StackPanel>

                <!-- Кнопка закрытия -->
                <Button x:Name="CloseButton"
                        Click="CloseButton_Click"
                        Width="40" Height="40"
                        HorizontalAlignment="Right"
                        Background="#1A2332"
                        BorderThickness="0"
                        Cursor="Hand">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="#1A2332"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}"
                                                CornerRadius="8">
                                            <TextBlock Text="✕" 
                                                       FontSize="20"
                                                       Foreground="#CCCCCC"
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#FF4444"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
            </Grid>

            <!-- Карточки выбора -->
            <Grid Grid.Row="1" Margin="40,20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="20"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- МУЛЬТИКОПТЕР -->
                <Border x:Name="CopterCard"
            Grid.Column="0" 
            Style="{StaticResource VehicleCardStyle}"
            MouseLeftButtonDown="VehicleCard_Click"
            Tag="Copter">
                    <StackPanel>
                        <Image Source="/Images/drone_icon.png" 
                   Width="120" Height="120"
                   Margin="0,80,0,20"
                   IsHitTestVisible="False"/>
                        <TextBlock Text="МУЛЬТИКОПТЕР"
                       FontSize="22"
                       FontWeight="Bold"
                       Foreground="#98F019"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,10"
                       IsHitTestVisible="False"/>
                        <TextBlock Text="Летательный аппарат, построенный по вертолётной схеме, с тремя и более несущими винтами"
                       FontSize="14"
                       Foreground="#CCCCCC"
                       HorizontalAlignment="Center"
                       TextWrapping="Wrap"
                       TextAlignment="Center"
                       Margin="20,0,20,0"
                       IsHitTestVisible="False"/>
                        
                    </StackPanel>
                </Border>

                <!-- КВАДРОПЛАН (СВВП) -->
                <Border x:Name="QuadPlaneCard"
            Grid.Column="2" 
            Style="{StaticResource VehicleCardStyle}"
            MouseLeftButtonDown="VehicleCard_Click"
            Tag="QuadPlane">
                    <StackPanel>
                        <Image Source="/Images/pl.png" 
                   Width="120" Height="120"
                   Margin="0,80,0,20"
                   IsHitTestVisible="False"/>
                        <TextBlock Text="СВВП"
                       FontSize="22"
                       FontWeight="Bold"
                       Foreground="#98F019"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,10"
                       IsHitTestVisible="False"/>
                        <TextBlock Text="Самолет Вертикального Взлета и Посадки"
                       FontSize="14"
                       Foreground="#CCCCCC"
                       HorizontalAlignment="Center"
                       TextWrapping="Wrap"
                       TextAlignment="Center"
                       Margin="20,0,20,0"
                       IsHitTestVisible="False"/>
                        <TextBlock Text="Дальность + Манёвренность"
                       FontSize="14"
                       Foreground="#CCCCCC"
                       HorizontalAlignment="Center"
                       Margin="0,5,0,30"
                       IsHitTestVisible="False"/>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- Подсказка внизу -->
            <StackPanel Grid.Row="2" 
                        Orientation="Horizontal" 
                        HorizontalAlignment="Center"
                        Margin="0,0,0,30">
                <TextBlock Text="⚠" 
                           FontSize="16" 
                           Foreground="#FFB800"
                           Margin="0,0,10,3"/>
                <TextBlock Text="Вы можете изменить тип транспортного средства позже в разделе «Настройки» → «Конфигурация транспортного средства»."
                           FontSize="12"
                           Foreground="#888888"
                           TextWrapping="Wrap"
                           MaxWidth="800" VerticalAlignment="Center"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
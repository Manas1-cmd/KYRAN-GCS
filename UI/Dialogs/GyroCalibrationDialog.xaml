<Window x:Class="SimpleDroneGCS.UI.Dialogs.GyroCalibrationDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{DynamicResource GyroCalib_Title}" 
        Width="420" Height="340"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#060B1A"
        WindowStyle="None"
        AllowsTransparency="True"
        BorderBrush="#2A4361" BorderThickness="2">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Заголовок -->
        <StackPanel Grid.Row="0" HorizontalAlignment="Center" Margin="0,0,0,16">
            <TextBlock Text="{DynamicResource GyroCalib_Header}" 
                       FontSize="16" FontWeight="Bold" FontFamily="Consolas"
                       Foreground="#98F019" HorizontalAlignment="Center"/>
            <TextBlock Text="GYROSCOPE CALIBRATION" 
                       FontSize="10" FontFamily="Consolas"
                       Foreground="#4498F019" HorizontalAlignment="Center" Margin="0,2,0,0"/>
        </StackPanel>

        <!-- Иконка дрона + инструкция -->
        <Border Grid.Row="1" Background="#0D1733" CornerRadius="8" Padding="20"
                BorderBrush="#1A2A4361" BorderThickness="1">
            <StackPanel VerticalAlignment="Center">
                <Canvas Width="80" Height="50" HorizontalAlignment="Center" Margin="0,0,0,16">
                    <Ellipse Width="30" Height="20" Canvas.Left="25" Canvas.Top="15"
                             Fill="#1A98F019" Stroke="#98F019" StrokeThickness="1.5"/>
                    <Line X1="25" Y1="25" X2="8" Y2="10" Stroke="#98F019" StrokeThickness="1.5"/>
                    <Line X1="55" Y1="25" X2="72" Y2="10" Stroke="#98F019" StrokeThickness="1.5"/>
                    <Line X1="25" Y1="25" X2="8" Y2="40" Stroke="#98F019" StrokeThickness="1.5"/>
                    <Line X1="55" Y1="25" X2="72" Y2="40" Stroke="#98F019" StrokeThickness="1.5"/>
                    <Ellipse Width="14" Height="14" Canvas.Left="1" Canvas.Top="3"
                             Fill="Transparent" Stroke="#6698F019" StrokeThickness="1" StrokeDashArray="2 1"/>
                    <Ellipse Width="14" Height="14" Canvas.Left="65" Canvas.Top="3"
                             Fill="Transparent" Stroke="#6698F019" StrokeThickness="1" StrokeDashArray="2 1"/>
                    <Ellipse Width="14" Height="14" Canvas.Left="1" Canvas.Top="33"
                             Fill="Transparent" Stroke="#6698F019" StrokeThickness="1" StrokeDashArray="2 1"/>
                    <Ellipse Width="14" Height="14" Canvas.Left="65" Canvas.Top="33"
                             Fill="Transparent" Stroke="#6698F019" StrokeThickness="1" StrokeDashArray="2 1"/>
                </Canvas>

                <TextBlock x:Name="InstructionText"
                           Text="{DynamicResource GyroCalib_Instruction}"
                           TextAlignment="Center" FontSize="13" FontFamily="Segoe UI"
                           Foreground="#CCDDDD" LineHeight="20"/>

                <TextBlock x:Name="WarningText"
                           Text="{DynamicResource GyroCalib_Warning}"
                           TextAlignment="Center" FontSize="11" FontFamily="Consolas"
                           Foreground="#FFAA00" Margin="0,10,0,0"/>
            </StackPanel>
        </Border>

        <!-- Прогресс -->
        <Grid Grid.Row="2" Margin="0,12,0,0">
            <ProgressBar x:Name="CalibProgress" 
                         Height="8" Minimum="0" Maximum="100" Value="0"
                         Background="#1A2A4361" Foreground="#98F019"
                         BorderThickness="0"/>
            <TextBlock x:Name="ProgressText" Text="{DynamicResource Waiting}"
                       FontSize="11" FontFamily="Consolas"
                       Foreground="#6698F019" HorizontalAlignment="Center"
                       Margin="0,12,0,0"/>
        </Grid>

        <!-- Статус от дрона -->
        <TextBlock x:Name="StatusText" Grid.Row="3"
                   Text="" FontSize="10" FontFamily="Consolas"
                   Foreground="#4498F019" HorizontalAlignment="Center"
                   TextAlignment="Center" Margin="0,8,0,0"
                   TextWrapping="Wrap"/>

        <!-- Кнопки -->
        <Grid Grid.Row="4" Margin="0,16,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Button x:Name="StartButton" Grid.Column="0" Content="{DynamicResource Start}"
                    Height="38" Margin="0,0,6,0"
                    Background="#1A98F019" Foreground="#98F019"
                    BorderBrush="#3398F019" BorderThickness="1"
                    FontFamily="Consolas" FontWeight="Bold" FontSize="13"
                    Click="StartButton_Click" Cursor="Hand"/>

            <Button x:Name="CloseButton" Grid.Column="1" Content="{DynamicResource Close}"
                    Height="38" Margin="6,0,0,0"
                    Background="#1AFF4444" Foreground="#FF6666"
                    BorderBrush="#33FF4444" BorderThickness="1"
                    FontFamily="Consolas" FontWeight="Bold" FontSize="13"
                    Click="CloseButton_Click" Cursor="Hand"/>
        </Grid>
    </Grid>
</Window>
